

<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

 


      <title>Я не понимаю TDD - </title>

  <meta name="description" content="Test Driven Development (TDD) это один из очень уважаемых подходов к разработке и считается признаком высокой культуры подхода к разработке.
Кроме того это одна из первых &ldquo;больших&rdquo; идей в программировании, с которой я познакомился через книгу
Гарри Персиваля &ldquo;Python. Разработка на основе тестирования&rdquo;. Но недавно для себя я решил пока полностью
отказаться от этой идеи, по крайней мере в собственных проектах, и вот почему.">
  <meta name="author" content="Павел Барабанов"/><script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "WebSite",
    "name": "Мой блог про IT, ML и прочее",
    
    "url": "http:\/\/localhost:1313\/"
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "",
  "url": "http:\/\/localhost:1313\/"
  
  
  
  
}
</script>
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "item": {
          "@id": "http:\/\/localhost:1313\/",
          "name": "home"
        }
    },{
        "@type": "ListItem",
        "position": 3,
        "item": {
          "@id": "http:\/\/localhost:1313\/posts\/about-tdd\/",
          "name": "Я не понимаю tdd"
        }
    }]
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "author": {
    "name" : "Павел Барабанов"
  },
  "headline": "Я не понимаю TDD",
  "description" : "Test Driven Development (TDD) это один из очень уважаемых подходов к разработке и считается признаком высокой культуры подхода к разработке. Кроме того это одна из первых \u0026ldquo;больших\u0026rdquo; идей в программировании, с которой я познакомился через книгу Гарри Персиваля \u0026ldquo;Python. Разработка на основе тестирования\u0026rdquo;. Но недавно для себя я решил пока полностью отказаться от этой идеи, по крайней мере в собственных проектах, и вот почему.\n",
  "inLanguage" : "en",
  "wordCount":  885 ,
  "datePublished" : "2025-02-02T12:38:42\u002b03:00",
  "dateModified" : "2025-02-02T12:38:42\u002b03:00",
  "image" : "http:\/\/localhost:1313\/",
  "keywords" : [ "" ],
  "mainEntityOfPage" : "http:\/\/localhost:1313\/posts\/about-tdd\/",
  "publisher" : {
    "@type": "Organization",
    "name" : "http:\/\/localhost:1313\/",
    "logo" : {
        "@type" : "ImageObject",
        "url" : "http:\/\/localhost:1313\/",
        "height" :  60 ,
        "width" :  60
    }
  }
}
</script>


<meta property="og:title" content="Я не понимаю TDD" />
<meta property="og:description" content="Test Driven Development (TDD) это один из очень уважаемых подходов к разработке и считается признаком высокой культуры подхода к разработке.
Кроме того это одна из первых &ldquo;больших&rdquo; идей в программировании, с которой я познакомился через книгу
Гарри Персиваля &ldquo;Python. Разработка на основе тестирования&rdquo;. Но недавно для себя я решил пока полностью
отказаться от этой идеи, по крайней мере в собственных проектах, и вот почему.">
<meta property="og:url" content="http://localhost:1313/posts/about-tdd/" />
<meta property="og:type" content="website" />
<meta property="og:site_name" content="Мой блог про IT, ML и прочее" />

  <meta name="twitter:title" content="Я не понимаю TDD" />
  <meta name="twitter:description" content="Test Driven Development (TDD) это один из очень уважаемых подходов к разработке и считается признаком высокой культуры подхода к разработке.
Кроме того это одна из первых &ldquo;больших&rdquo; идей в …">
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="generator" content="Hugo 0.145.0">
  <link rel="alternate" href="http://localhost:1313/index.xml" type="application/rss+xml" title="Мой блог про IT, ML и прочее"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.7/dist/katex.min.css" integrity="sha384-3UiQGuEI4TTMaFmGIZumfRPtfKQ3trwQE2JgosJxCnGmQpL/lJdjpcHkaaFwHlcI" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.6.0/css/all.css" integrity="sha384-h/hnnw1Bi4nbpD6kE7nYfCXzovi622sY5WBxww8ARKwpdLj5kUWjRuyiXaD1U2JT" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/css/bootstrap.min.css" integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu" crossorigin="anonymous"><link rel="stylesheet" href="http://localhost:1313/css/main.css" /><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" /><link rel="stylesheet" href="http://localhost:1313/css/syntax.css" /><link rel="stylesheet" href="http://localhost:1313/css/codeblock.css" /><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css" integrity="sha384-h/L2W9KefUClHWaty3SLE5F/qvc4djlyR4qY3NUV5HGQBBW7stbcfff1+I/vmsHh" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css" integrity="sha384-iD0dNku6PYSIQLyfTOpB06F2KCZJAKLOThS5HRe8b3ibhdEQ6eKsFf/EeFxdOt5R" crossorigin="anonymous">

  </head>
  <body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="http://localhost:1313/">Мой блог про IT, ML и прочее</a>
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
        

        

        
      </ul>
    </div>

    

  </div>
</nav>




    


<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>


  
  
  






  

  <header class="header-section ">
    
    
    <div class="intro-header no-img">
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
            <div class="posts-heading">
              
                <h1>Я не понимаю TDD</h1>
              
              
                <hr class="small">
              
              
              
            </div>
          </div>
        </div>
      </div>
    </div>
  
  </header>


    
<div class="container" role="main">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
      <article role="main" class="blog-post">
        <p><code>Test Driven Development</code> (TDD) это один из очень уважаемых подходов к разработке и считается признаком высокой культуры подхода к разработке.
Кроме того это одна из первых &ldquo;больших&rdquo; идей в программировании, с которой я познакомился через книгу
Гарри Персиваля <strong>&ldquo;Python. Разработка на основе тестирования&rdquo;</strong>. Но недавно для себя я решил пока полностью
отказаться от этой идеи, по крайней мере в собственных проектах, и вот почему.</p>
<p>Для меня в большинстве своём TDD приводит к тому, что приходится выполнять двойную работу -
каждое изменение вызывает необходимость изменять сигнатуру функций в тестах, названия, импорты (хорошо, если LSP может сделать такой рефакторинг за нас),
добавить новые моки и т.д., затем вернуться, чтобы попробовать новую идею.
Каждый раз когда ты осознаёшь, что пару классов можно слить в один, другой класс напротив разделить на несколько,
что стоит перераспределить методы, сделать модуль чуть меньше - сначала тебя ждёт эта экстра-работа по переделке
всех этих уже прописанных тестов.
Это просто создаёт слишком много трения в работе - слишком большой зазор между идеей и тем как возникает её
первый работающий прототип. И этот момент очень важен, так как маленький заряд дофамина от того, что &ldquo;оно
хотя бы как то едет&rdquo; это и есть радость от программирования, такие моменты в течение дня складываются в удовлетворение
от работы. Но с TDD надо мной постоянный &ldquo;груз&rdquo; дополнительной работы, которой я расплачиваюсь за каждую новую идею
и каждое отклонение от первоначальной задумки.</p>
<p>Этот дополнительный груз в значительной степени мешает креативности - свобода пробовать идеи и легко отбрасывать их.
Поиск решения зачастую это целое исследование, с множеством развилок и тупиков. TDD же способствует тому чтобы мы придерживались
всегда изначального плана, иначе нас ждет дополнительная работа. Мне же гораздо ближе что-то вроде техники <a href="https://ru.wikipedia.org/wiki/%D0%91%D1%80%D0%B8%D0%BA%D0%BE%D0%BB%D0%B0%D0%B6">бриколажа</a> -
прилаживание, быстрая обратная связь и коррекция.</p>
<p>Не поймите меня неправильно - тесты нужны. Как мне кажется, не столько с точки зрения даже того, чтобы убедиться, что все работает <em>сейчас</em>.
Во многом чтобы не ощущать себя &ldquo;бросающим камни в стеклянном доме&rdquo; при внесении изменений. Если я что-то сломал, то должен знать об этом
максимально быстро, и регрессионное тестирование здесь это просто лучший инструмент, чтобы избежать такой ситуации.</p>
<p>TDD очень хорошо решает следующую проблему - в не-TDD случае после завершения любой фичи мы оказываемся в следующей ситуации:</p>
<ul>
<li>Заряд мотивации высвободится и теперь ушел.</li>
<li>Впереди вероятно ещё куча работы, которая более интересная чем писать тесты, а может более срочная и нужная с точки зрения руководства.
На самом деле не так уж просто доказать кому-то, что если что-то уже работает сейчас, то мне нужно потратить ещё возможно столько же
времени на то чтобы просто убедиться что так будет всегда.</li>
</ul>
<p>В среднем вероятность что тесты будут написаны в такой ситуации очень нестабильна и зависит от уровня собственной усталости,
дисциплинированности, культуры в команде по отношению к тестам и т.д.</p>
<p>TDD ловко решает эту проблему, просто поставив телегу впереди лошади (а именно так TDD, честно говоря, и ощущается:)).
Теперь мы никуда не поедем пока тесты не будут написаны и отработаны, получаем гарантию что они вообще будут существовать.</p>
<p>Есть ли какие-то альтернативы, чтобы повысить наши шансы на то, что тесты будут написаны?
Тут есть несколько идей:</p>
<p>Defensive programming</p>
<p>Одна из идей - это делить свои сессии программирования на &ldquo;креативные&rdquo; и &ldquo;защитные&rdquo;.
Во время вторых мы должны попытаться &ldquo;атаковать&rdquo; наш <em>уже работающий и хоть немного устоявшийся</em> код
с позиций валидации инпутов, потенциальных исключений, краевых случаев и так далее. В идеале каждая
выявленная уязвимость влечёт за собой создание теста или хотя бы <code>assert</code>.
Не обязательно эти сессии должны чётко чередоваться поочерёдно, но важно то, что этапы творческих попыток,
экспериментов и создание работающего прототипа всегда предшествуют &ldquo;критическому&rdquo; периоду.
Главное убедить себя что сессии defensive programming подходов по важности на одинаковом уровне с креативной разработкой.</p>
<p><code>Assert</code> - представляет собой юнит-тест в миниатюре. Он отражает какое-то наше предположение о работе когда и
немедленно останавливает его работу с указанием на место, если это предположение неверно. Большой его плюс
перед обычными тестами в том, что он встроен в код и его можно в любой момент добавить или убрать &ldquo;походу&rdquo;
разработки без потери фокуса.</p>
<p>Приоритет E2E тестов.</p>
<p>Мы не пишем модульные тесты до тех пор, пока не будут созданы E2E тесты. Такие тесты являют собой точку зрения конечного пользователя на систему,
то как её видит непосредственно он. Модульные тесты добавляются только если симулировать краевые случаи как-то совсем уж сложно.
Конечно, такой подход не гарантирует что эти E2E будут написаны (тут мы немного перекладываем ответственность в другое место),
но с человеческой точки зрения они кажутся гораздо более важными и осмысленными -
так как буквально производят &ldquo;пользование&rdquo; конечным продуктом, а значит имеют больше мотивации для написания.</p>
<h2 id="случаи-когда-применение-tdd-кажется-уместным">Случаи когда применение TDD кажется уместным:</h2>
<ul>
<li>TDD уже используется в команде и это общепринятый и обговорённых подход. В этом случае остаётся
только следовать за принятыми установками. Но вероятно это будет проще потому что возможно будет
существовать разделение внутри между непосредственно вдумчивой подготовкой тестов и реализацией кода на их основе.</li>
<li>Мы абсолютно точно знаем как будет выглядеть юнит кода, который собираемся написать. Самый яркий пример здесь
это конечно условные задачи на Литкоде, у которых чётко прописаны входные/выходные данные и уже задана сигнатура
функции/класса. Другой пример - если расширяется уже существующий функционал (ещё один подкласс, еще одна реализация
существующего алгоритма, ещё одна схожая модель в Django и т.д.), в таком случае мы не изобретаем новое, но расширяем
программу, вставляя новое в уже существующие &ldquo;пазы&rdquo;. Когда не нужно думать про программу как целое и можно на 100% сосредоточится
на её части.</li>
</ul>


        

        

        
      </article>

      
        <ul class="pager blog-pager">
          
            <li class="previous">
              <a href="http://localhost:1313/posts/roclang/" data-toggle="tooltip" data-placement="top" title="Функциональное программирование и Roc">&larr; Previous Post</a>
            </li>
          
          
            <li class="next">
              <a href="http://localhost:1313/posts/cursor-editor-review/" data-toggle="tooltip" data-placement="top" title="Мини-обзор на Cursor - редактор кода с AI">Next Post &rarr;</a>
            </li>
          
        </ul>
      


      

    </div>
  </div>
</div>

      <footer>
  <div class="container">
    
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
          
              <li>
		
		  <a href="mailto:barabanovpv95@gmail.com" title="Email me">
		
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fas fa-envelope fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
		
		  <a href="https://github.com/Xenokrat" title="GitHub">
		
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
          
        </ul>
        <p class="credits copyright text-muted">
          
            
              Павел Барабанов
            
          

          &nbsp;&bull;&nbsp;&copy;
          
            2025
          

          
            &nbsp;&bull;&nbsp;
            <a href="http://localhost:1313/">Мой блог про IT, ML и прочее</a>
          
        </p>
        
        <p class="credits theme-by text-muted">
          <a href="https://gohugo.io">Hugo v0.145.0</a> powered &nbsp;&bull;&nbsp; Theme <a href="https://github.com/halogenica/beautifulhugo">Beautiful Hugo</a> adapted from <a href="https://deanattali.com/beautiful-jekyll/">Beautiful Jekyll</a>
          
        </p>
      </div>
    </div>
  </div>
</footer><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.7/dist/katex.min.js" integrity="sha384-G0zcxDFp5LWZtDuRMnBkk3EphCK1lhEf4UEyEM693ka574TZGwo4IWwS6QLzM/2t" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.7/dist/contrib/auto-render.min.js" integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script>
<script src="https://code.jquery.com/jquery-3.7.0.slim.min.js" integrity="sha384-w5y/xIeYixWvfM+A1cEbmHPURnvyqmVg5eVENruEdDjcyRLUSNej7512JQGspFUr" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/js/bootstrap.min.js" integrity="sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd" crossorigin="anonymous"></script>

<script src="http://localhost:1313/js/main.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js" integrity="sha384-QELNnmcmU8IR9ZAykt67vGr9/rZJdHbiWi64V88fCPaOohUlHCqUD/unNN0BXSqy" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js" integrity="sha384-m67o7SkQ1ALzKZIFh4CiTA8tmadaujiTa9Vu+nqPSwDOqHrDmxLezTdFln8077+q" crossorigin="anonymous"></script><script src="http://localhost:1313/js/load-photoswipe.js"></script>










    
  </body>
</html>

